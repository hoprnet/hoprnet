[package]
name = "chain-rpc"
version = "0.2.2"
authors = ["HOPR Association <tech@hoprnet.org>"]
edition = "2021"
description = "Abstraction over Ethereum RPC provider client"
homepage = "https://hoprnet.org/"
repository = "https://github.com/hoprnet/hoprnet"
license = "GPL-3.0-only"

[lib]
crate-type = ["rlib"]

[dependencies]
async-trait = { workspace = true }
async-std = { workspace = true, features = ["unstable"] }
async-stream = { workspace = true }
ethers = { workspace = true }
futures = { workspace = true }
futures-timer = { workspace = true }
governor = { version = "0.6", optional = true }
http-types = "2.12.0"
lazy_static = { workspace = true }
primitive-types = { workspace = true }
reqwest = { version = "0.12.4", optional = true }
serde = { workspace = true }
serde_json = "1"
smart-default = { workspace = true }
surf = { version = "2.3.2", optional = true }
surf-governor = { version = "0.2.0", optional = true }
thiserror = { workspace = true }
validator = { workspace = true }

bindings = { workspace = true }
hopr-crypto-types = { workspace = true }
chain-types = { workspace = true }
tracing = { workspace = true }
hopr-metrics = { workspace = true, optional = true }
hopr-primitive-types = { workspace = true }

[dev-dependencies]
async-std = { workspace = true, features = ["attributes", "unstable"] }
tokio = { workspace = true }
env_logger = { workspace = true }
mockall = { workspace = true }
mockito = "1.2.0"
hex-literal = { workspace = true }


[features]
default = ["prometheus"]
prometheus = ["dep:hopr-metrics"]
runtime-async-std = ["dep:surf", "dep:surf-governor"]
runtime-tokio = ["dep:reqwest", "dep:governor"]
