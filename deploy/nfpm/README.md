# OS Packages

Hoprd has a ready to use package for the following variants:

- Supported processor architectures: `x86_64` and `aarch64`
- Supported operating systems: `Linux` and `macOS`
- Supported package formats: `deb`, `rpm`, and `pkg.tar.zst`

## Install via package manager

- Visit the [release page](https://github.com/hoprnet/hoprnet/releases)
- Determine your processor architecture by running `uname -m`.  
  Note: `arm64` is equivalent to `aarch64`.
- Choose the appropriate package format for your system: `deb`, `rpm`, or `pkg.tar.zst`.
- Set the required environment variables before installing the package:

```bash
# You can get Safe address and the Module address from https://hub.hoprnet.org
export HOPRD_SAFE_ADDRESS=<SAFE_WALLET_ADDRESS>
export HOPRD_MODULE_ADDRESS=<MODULE_ADDRESS>
# Choose your own local RPC provider or any from https://docs.hoprnet.org/node/custom-rpc-provider
export HOPRD_PROVIDER=<CUSTOM_RPC_PROVIDER>
```

### `.deb` (Debian, Ubuntu and derivatives)

**Install:**

```bash
sudo apt-get update
sudo -E apt -y install ./hoprd.deb
```

**Uninstall:**

```bash
sudo apt remove -y hoprd
```

---

### `.rpm` (Fedora, CentOS, RHEL, openSUSE)

**Install:**

```bash
sudo -E dnf install -y ./hoprd.rpm
```

**Uninstall:**

```bash
sudo dnf remove -y hoprd
```

---

### `.pkg.tar.zst` (Arch Linux, Manjaro)

**Install:**

```bash
sudo pacman --noconfirm -U ./hoprd.pkg.tar.zst
```

**Uninstall:**

```bash
sudo pacman -Rs hoprd
```

## Development

Locally the package can be generated by executing `just` commands:

- Create package for x86_64-linux

```bash
nix build -L .#hoprd-x86_64-linux
nix build -L .#hopli-x86_64-linux
just package x86_64-linux
```

- Test package for x86_64-linux :

```bash
export HOPRD_PASSWORD=
export HOPRD_SAFE_ADDRESS=
export HOPRD_MODULE_ADDRESS=
export HOPRD_PROVIDER=
echo "Optionally create an identifiy file at ./deploy/nfpm/hopr.id"
just test-package deb x86_64-linux
just test-package rpm x86_64-linux
just test-package archlinux x86_64-linux
```

- Create package for aarch64-linux

```bash
nix build -L .#hoprd-aarch64-linux
nix build -L .#hopli-aarch64-linux
just package aarch64-linux
```

- Test package for aarch64-linux:

```bash
export HOPRD_PASSWORD=
export HOPRD_SAFE_ADDRESS=
export HOPRD_MODULE_ADDRESS=
export HOPRD_PROVIDER=
echo "Optionally create an identifiy file at ./deploy/nfpm/hopr.id"
just test-package deb aarch64-linux
just test-package rpm aarch64-linux
```
